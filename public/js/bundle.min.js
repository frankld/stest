$(document).ready(function(){$('.js-tilt').tilt({maxTilt:10,perspective:2000,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1.09,speed:900,transition:true,disableAxis:null,reset:false,glare:false,maxGlare:1})
$('.js-tilt-lg').tilt({maxTilt:10,perspective:3000,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1.02,speed:900,transition:true,disableAxis:null,reset:false,glare:false,maxGlare:1})
var toggler=document.querySelectorAll('.toggler');var wh=document.documentElement.clientWidth;var sidenav=document.getElementById('mySidenav');var fixednav=document.querySelector('#fixed-nav');var items=document.querySelectorAll('.nav-item');var header=document.querySelectorAll('.menu-header');var logo=document.getElementById('logo');var letters=document.querySelectorAll('.logostagger');var logotl=new TimelineMax({paused:true});var menutl=new TimelineMax({paused:true});var menuscrolltl=new TimelineMax({paused:true});var sidenav=document.getElementById('mySidenav');var rWork=document.querySelectorAll('.recentWork');var rLink=document.querySelectorAll('.recentLink');var rImage=document.querySelectorAll('.recentImage');menutl.staggerFrom(header,.4,{x:-100,opacity:0,delay:.4},0.1).staggerFrom(items,.4,{x:-100,opacity:0,delay:.4},0.08,.2);logotl.staggerTo(letters,.3,{y:"-=5px"},0.05);toggler.forEach(function(t,k){t.addEventListener("mousedown",function(){if(k===0){menutl.restart();TweenMax.to(sidenav,.4,{autoAlpha:1,ease:'ease-in'});TweenMax.to(sidenav,.4,{x:'200',ease:Power2.easeOut});}
else{menutl.reverse();TweenMax.to(sidenav,.5,{autoAlpha:0,delay:.6});TweenMax.to(sidenav,1,{x:"-200",delay:.6,ease:Power4.easeIn});}});});$('#logo').hover(function(){logotl.play();},function(){logotl.reverse();});rImage.forEach(function(t,k){t.addEventListener('mouseover',function(){let nodes=[].slice.apply(rLink);nodes.splice(k,1);console.dir(nodes);TweenMax.to(nodes,.6,{autoAlpha:0.2,ease:'ease-in'});});t.addEventListener('mouseout',function(){let nodes=[].slice.apply(rLink);nodes.splice(k,1);console.dir(nodes);TweenMax.to(nodes,.8,{autoAlpha:1,ease:'ease-out'});});});var controller=new ScrollMagic.Controller();var hTween1=new TweenMax.to('.sm-h-1',1,{y:100});var hTween2=new TweenMax.to('.sm-h-2',1,{y:100});var hTween3=new TweenMax.to('.dot-grid',1,{x:300});var introScene=new ScrollMagic.Scene({duration:wh*2}).setTween([hTween1,hTween3]);var recentScene=new ScrollMagic.Scene({triggerElement:'#recent',triggerHook:"onCenter",offset:100,duration:wh}).setTween(hTween2);var menuScene=new ScrollMagic.Scene({offset:wh/3});menuScene.on('enter',function(event){fixednav.classList.add('fixed-top');fixednav.classList.remove('py-5');TweenMax.fromTo(fixednav,.5,{opacity:0},{opacity:1});TweenMax.to(fixednav,.5,{boxShadow:"0px 0px 8px rgba(0,0,0,0.2)"});TweenMax.to("#content",0,{marginTop:"162px"});});menuScene.on('leave',function(event){fixednav.classList.remove('fixed-top');fixednav.classList.add('py-5');TweenMax.to("#content",0,{marginTop:"0px"});TweenMax.to(fixednav,.5,{boxShadow:"0px 0px 0px rgba(0,0,0,0)"});});controller.addScene([introScene,menuScene,recentScene]);});